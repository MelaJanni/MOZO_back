=====================================================================
           SISTEMA DE NOTIFICACIONES MESA-MOZO - APIs COMPLETAS
=====================================================================

1. LLAMADA DE MESA A MOZO (Endpoint P√∫blico)
=====================================================================

POST /api/tables/{table_id}/call-waiter
- Descripci√≥n: Mesa llama al mozo asignado
- Autenticaci√≥n: NO REQUERIDA (p√∫blico para QR codes)
- Par√°metros de ruta:
  * table_id (integer): ID de la mesa

- Body (opcional):
  {
    "message": "string - Mensaje personalizado (opcional)",
    "urgency": "normal|high - Nivel de urgencia (opcional, default: normal)",
    "client_info": "string - Info del cliente (opcional)"
  }

- Respuestas:
  * 200 - Llamada exitosa:
    {
      "success": true,
      "message": "Mozo llamado exitosamente. Aguarde por favor.",
      "call": {
        "id": 123,
        "table_number": 5,
        "waiter_name": "Juan P√©rez",
        "called_at": "2025-08-06T14:30:00Z",
        "status": "pending"
      },
      "estimated_response_time": "2-3 minutos"
    }

  * 422 - Mesa sin mozo asignado:
    {
      "success": false,
      "message": "Esta mesa no tiene un mozo asignado actualmente. Por favor, llame manualmente al mozo.",
      "action_required": "call_manually"
    }

  * 429 - Mesa silenciada:
    {
      "success": false,
      "message": "Esta mesa est√° temporalmente silenciada",
      "silenced_until": 480,
      "reason": "automatic|manual",
      "formatted_time": "8m 0s"
    }

  * 409 - Llamada muy reciente:
    {
      "success": false,
      "message": "Ya hay una llamada pendiente muy reciente. Por favor espere.",
      "pending_call": {
        "id": 122,
        "called_at": "2025-08-06T14:29:45Z",
        "seconds_ago": 15
      }
    }

=====================================================================
2. MOZO - OBTENER LLAMADAS PENDIENTES
=====================================================================

GET /api/waiter/calls/pending
- Descripci√≥n: Obtiene llamadas pendientes para el mozo autenticado
- Autenticaci√≥n: Bearer token (mozo)

- Respuesta 200:
  {
    "success": true,
    "pending_calls": [
      {
        "id": 123,
        "table": {
          "id": 5,
          "number": 5,
          "name": "Mesa VIP"
        },
        "message": "Llamada desde mesa 5",
        "called_at": "2025-08-06T14:30:00Z",
        "minutes_ago": 2,
        "urgency": "normal|high",
        "status": "pending"
      }
    ],
    "count": 1
  }

=====================================================================
3. MOZO - CONFIRMAR/RECONOCER LLAMADA
=====================================================================

POST /api/waiter/calls/{call_id}/acknowledge
- Descripci√≥n: Mozo confirma que vio la llamada (bot√≥n "OK")
- Autenticaci√≥n: Bearer token (mozo)
- Par√°metros de ruta:
  * call_id (integer): ID de la llamada

- Respuesta 200:
  {
    "success": true,
    "message": "Llamada confirmada",
    "call": {
      "id": 123,
      "status": "acknowledged",
      "acknowledged_at": "2025-08-06T14:32:15Z",
      "response_time": "2m 15s",
      "table_number": 5
    }
  }

- Respuesta 403:
  {
    "success": false,
    "message": "No tienes permiso para responder esta llamada"
  }

=====================================================================
4. MOZO - COMPLETAR LLAMADA
=====================================================================

POST /api/waiter/calls/{call_id}/complete
- Descripci√≥n: Mozo marca la llamada como atendida completamente
- Autenticaci√≥n: Bearer token (mozo)
- Par√°metros de ruta:
  * call_id (integer): ID de la llamada

- Respuesta 200:
  {
    "success": true,
    "message": "Llamada completada",
    "call": {
      "id": 123,
      "status": "completed",
      "completed_at": "2025-08-06T14:35:00Z",
      "total_time": 300
    }
  }

=====================================================================
5. HISTORIAL DE LLAMADAS (MOZO Y ADMIN)
=====================================================================

GET /api/waiter/calls/history
GET /api/admin/calls/history
- Descripci√≥n: Obtiene historial de llamadas con filtros
- Autenticaci√≥n: Bearer token (mozo o admin)

- Query parameters:
  * filter: "hour|today|historic" - Filtro temporal (default: today)
  * page: integer - P√°gina (default: 1)
  * limit: integer - Resultados por p√°gina (default: 20)

- Respuesta 200:
  {
    "success": true,
    "calls": [
      {
        "id": 123,
        "table": {
          "number": 5,
          "name": "Mesa VIP"
        },
        "waiter": {
          "name": "Juan P√©rez"
        },
        "message": "Llamada desde mesa 5",
        "status": "completed",
        "called_at": "2025-08-06T14:30:00Z",
        "acknowledged_at": "2025-08-06T14:32:15Z",
        "completed_at": "2025-08-06T14:35:00Z",
        "response_time": "2m 15s",
        "urgency": "normal"
      }
    ],
    "pagination": {
      "current_page": 1,
      "last_page": 5,
      "per_page": 20,
      "total": 87
    },
    "filter_applied": "today"
  }

=====================================================================
6. MOZO - SILENCIAR MESA MANUALMENTE
=====================================================================

POST /api/waiter/tables/{table_id}/silence
- Descripci√≥n: Mozo silencia una mesa manualmente
- Autenticaci√≥n: Bearer token (mozo)
- Par√°metros de ruta:
  * table_id (integer): ID de la mesa

- Body (opcional):
  {
    "duration_minutes": 30, // Duraci√≥n en minutos (1-120, default: 30)
    "notes": "Cliente problem√°tico, silenciar temporalmente"
  }

- Respuesta 200:
  {
    "success": true,
    "message": "Mesa silenciada correctamente",
    "silence": {
      "id": 45,
      "reason": "manual",
      "silenced_at": "2025-08-06T14:40:00Z",
      "notes": "Cliente problem√°tico, silenciar temporalmente"
    }
  }

- Respuesta 409:
  {
    "success": false,
    "message": "La mesa ya est√° silenciada",
    "current_silence": {
      "reason": "automatic",
      "remaining_time": "8m 30s"
    }
  }

=====================================================================
7. QUITAR SILENCIO DE MESA
=====================================================================

DELETE /api/waiter/tables/{table_id}/silence
DELETE /api/admin/tables/{table_id}/silence
- Descripci√≥n: Remueve silencio de una mesa
- Autenticaci√≥n: Bearer token (mozo o admin)
- Par√°metros de ruta:
  * table_id (integer): ID de la mesa

- Respuesta 200:
  {
    "success": true,
    "message": "Silencio removido de la mesa",
    "unsilenced_at": "2025-08-06T14:45:00Z"
  }

- Respuesta 404:
  {
    "success": false,
    "message": "La mesa no est√° silenciada"
  }

=====================================================================
8. OBTENER MESAS SILENCIADAS
=====================================================================

GET /api/waiter/tables/silenced
GET /api/admin/tables/silenced
- Descripci√≥n: Lista mesas actualmente silenciadas
- Autenticaci√≥n: Bearer token (mozo o admin)

- Respuesta 200:
  {
    "success": true,
    "silenced_tables": [
      {
        "id": 45,
        "table": {
          "id": 5,
          "number": 5,
          "name": "Mesa VIP"
        },
        "reason": "automatic|manual",
        "silenced_by": "Juan P√©rez|Sistema",
        "silenced_at": "2025-08-06T14:35:00Z",
        "remaining_time": "7m 30s",
        "notes": "Spam de llamadas",
        "can_unsilence": true
      }
    ],
    "count": 1
  }

=====================================================================
9. NOTIFICACIONES FCM - ESTRUCTURA DE DATOS
=====================================================================

Cuando se llama al mozo, se env√≠a notificaci√≥n FCM con:

T√≠tulo: "üîî Llamada de Mesa {n√∫mero}"
Cuerpo: "{mensaje de la llamada}"
Data: {
  "type": "waiter_call",
  "call_id": "123",
  "table_id": "5", 
  "table_number": "5",
  "urgency": "normal|high",
  "action": "acknowledge_call"
}

=====================================================================
10. ENDPOINTS DE HISTORIAL DE NOTIFICACIONES
=====================================================================

GET /api/user/notifications
- Descripci√≥n: Obtiene notificaciones del usuario (incluye llamadas)
- Autenticaci√≥n: Bearer token
- Query parameters:
  * filter: "hour|today|historic" (default: today)

- Respuesta 200:
  {
    "success": true,
    "data": {
      "unread": [...],
      "read": [...],
      "unread_count": 3,
      "total_count": 25
    }
  }

POST /api/user/notifications/{notification_id}/read
- Descripci√≥n: Marca notificaci√≥n como le√≠da
- Autenticaci√≥n: Bearer token
- Par√°metros de ruta:
  * notification_id (string): UUID de la notificaci√≥n

- Respuesta 200:
  {
    "success": true,
    "message": "Notification marked as read",
    "data": {...}
  }

=====================================================================
11. L√ìGICA DE NEGOCIO AUTOM√ÅTICA
=====================================================================

SISTEMA DE SPAM PROTECTION:
- Si una mesa llama 3 veces en 10 minutos ‚Üí Silencio autom√°tico por 10 minutos
- Evita llamadas duplicadas si hay una pendiente de < 30 segundos
- El silencio autom√°tico se remueve autom√°ticamente despu√©s de 10 minutos

VALIDACIONES:
- Mesa debe tener notifications_enabled = true
- Mesa debe tener active_waiter_id asignado
- Mesa no debe estar silenciada
- Solo el mozo asignado puede responder sus llamadas

ESTADOS DE LLAMADAS:
- pending: Llamada nueva, esperando respuesta del mozo
- acknowledged: Mozo vio la llamada (presion√≥ OK)
- completed: Mozo atendi√≥ completamente la solicitud
- cancelled: Llamada cancelada

NOTIFICACIONES FCM:
- Se env√≠an autom√°ticamente al mozo cuando se crea una llamada
- Tambi√©n se guardan en la tabla notifications de Laravel
- El frontend recibe las notificaciones en tiempo real v√≠a FCM

=====================================================================
12. MIGRACIONES REQUERIDAS
=====================================================================

Para implementar este sistema, ejecuta:

php artisan migrate

Las siguientes migraciones se ejecutar√°n:
- 2025_08_06_create_waiter_calls_table.php
- 2025_08_06_create_table_silences_table.php  
- 2025_08_06_add_active_waiter_to_tables.php

=====================================================================
13. FLUJO COMPLETO DE UNA LLAMADA
=====================================================================

1. Cliente en mesa escanea QR ‚Üí Pantalla con bot√≥n "Llamar Mozo"
2. Cliente presiona bot√≥n ‚Üí POST /api/tables/{id}/call-waiter
3. Sistema valida: mesa activa, mozo asignado, no silenciada
4. Se crea WaiterCall + se env√≠a FCM al mozo
5. Mozo recibe notificaci√≥n push en tiempo real
6. Mozo ve llamada en dashboard y presiona "OK" ‚Üí POST /api/waiter/calls/{id}/acknowledge
7. Cliente ve "Mozo llamado" cambia a "Mozo en camino"
8. Mozo atiende cliente y marca como completa ‚Üí POST /api/waiter/calls/{id}/complete

INTERFAZ SUGERIDA PARA EL CLIENTE (MESA):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Mesa 5 - Mozo App       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  [üîî Llamar Mozo]   ‚îÇ    ‚îÇ ‚Üê Bot√≥n inicial
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ  Despu√©s de llamar:         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ ‚è≥ Llamando mozo... ‚îÇ    ‚îÇ ‚Üê Estado pending
‚îÇ  ‚îÇ    Aguarde por      ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ     favor           ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ  Cuando mozo confirma:      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ ‚úÖ Mozo en camino   ‚îÇ    ‚îÇ ‚Üê Estado acknowledged
‚îÇ  ‚îÇ   Tiempo de resp:   ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ      2m 15s         ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

INTERFAZ MOZO (seg√∫n imagen dashboard_mozo.png):
- Lista de notificaciones en tiempo real
- Bot√≥n "OK" para acknowledge
- Bot√≥n "Completar" para marcar como atendida
- Opci√≥n para silenciar mesas problem√°ticas
- Historial de llamadas con filtros

=====================================================================
13. GESTI√ìN DE MESAS - ACTIVAR/DESACTIVAR INDIVIDUAL
=====================================================================

POST /api/waiter/tables/{table_id}/activate
- Descripci√≥n: Mozo se asigna/activa en una mesa espec√≠fica
- Autenticaci√≥n: Bearer token (mozo)
- Par√°metros de ruta:
  * table_id (integer): ID de la mesa

- Respuesta 200:
  {
    "success": true,
    "message": "Mesa activada correctamente",
    "table": {
      "id": 5,
      "number": 5,
      "name": "Mesa VIP",
      "assigned_at": "2025-08-06T15:00:00Z",
      "notifications_enabled": true
    }
  }

- Respuesta 409 - Mesa ya asignada:
  {
    "success": false,
    "message": "Esta mesa ya tiene un mozo asignado",
    "current_waiter": "Juan P√©rez"
  }

DELETE /api/waiter/tables/{table_id}/activate
- Descripci√≥n: Mozo se desasigna de una mesa espec√≠fica
- Autenticaci√≥n: Bearer token (mozo)
- Par√°metros de ruta:
  * table_id (integer): ID de la mesa

- Respuesta 200:
  {
    "success": true,
    "message": "Mesa desactivada correctamente",
    "table": {
      "id": 5,
      "number": 5,
      "name": "Mesa VIP"
    },
    "cancelled_calls": 2
  }

=====================================================================
14. GESTI√ìN DE MESAS - ACTIVAR/DESACTIVAR M√öLTIPLES
=====================================================================

POST /api/waiter/tables/activate/multiple
- Descripci√≥n: Mozo se asigna a m√∫ltiples mesas de una vez
- Autenticaci√≥n: Bearer token (mozo)

- Body:
  {
    "table_ids": [1, 2, 3, 5, 8] // M√°ximo 50 mesas
  }

- Respuesta 200:
  {
    "success": true,
    "message": "Activadas 4 mesas. 1 errores.",
    "summary": {
      "total_requested": 5,
      "successful": 4,
      "errors": 1
    },
    "results": [
      {
        "table_id": 1,
        "table_number": 1,
        "success": true,
        "message": "Mesa activada correctamente"
      },
      {
        "table_id": 2,
        "table_number": 2,
        "success": false,
        "message": "Mesa ya tiene mozo asignado: Ana Garc√≠a"
      }
    ]
  }

POST /api/waiter/tables/deactivate/multiple
- Descripci√≥n: Mozo se desasigna de m√∫ltiples mesas de una vez
- Autenticaci√≥n: Bearer token (mozo)

- Body:
  {
    "table_ids": [1, 2, 3, 5, 8] // Solo se desactivar√°n las que est√©n asignadas a este mozo
  }

- Respuesta 200:
  {
    "success": true,
    "message": "Desactivadas 3 mesas. 5 llamadas canceladas.",
    "summary": {
      "total_requested": 5,
      "successful": 3,
      "not_assigned": 2,
      "total_cancelled_calls": 5
    },
    "results": [...]
  }

=====================================================================
15. SILENCIAR M√öLTIPLES MESAS
=====================================================================

POST /api/waiter/tables/silence/multiple
- Descripci√≥n: Silencia m√∫ltiples mesas de una vez
- Autenticaci√≥n: Bearer token (mozo)

- Body:
  {
    "table_ids": [1, 2, 3, 5],
    "duration_minutes": 30, // Opcional, default: 30
    "notes": "Mesas problem√°ticas durante evento"
  }

- Respuesta 200:
  {
    "success": true,
    "message": "Silenciadas 3 mesas. 1 ya estaban silenciadas.",
    "summary": {
      "total_requested": 4,
      "successful": 3,
      "already_silenced": 1,
      "duration_minutes": 30
    },
    "results": [...]
  }

POST /api/waiter/tables/unsilence/multiple
- Descripci√≥n: Quita silencio de m√∫ltiples mesas de una vez
- Autenticaci√≥n: Bearer token (mozo)

- Body:
  {
    "table_ids": [1, 2, 3, 5]
  }

- Respuesta 200:
  {
    "success": true,
    "message": "Removido silencio de 2 mesas. 2 no estaban silenciadas.",
    "summary": {
      "total_requested": 4,
      "successful": 2,
      "not_silenced": 2
    },
    "results": [...]
  }

=====================================================================
16. CONSULTAR MESAS ASIGNADAS Y DISPONIBLES
=====================================================================

GET /api/waiter/tables/assigned
- Descripci√≥n: Obtiene todas las mesas asignadas al mozo actual
- Autenticaci√≥n: Bearer token (mozo)

- Respuesta 200:
  {
    "success": true,
    "assigned_tables": [
      {
        "id": 5,
        "number": 5,
        "name": "Mesa VIP",
        "notifications_enabled": true,
        "assigned_at": "2025-08-06T15:00:00Z",
        "pending_calls_count": 1,
        "is_silenced": false,
        "silence_info": null
      },
      {
        "id": 8,
        "number": 8,
        "name": "Mesa Terraza",
        "notifications_enabled": true,
        "assigned_at": "2025-08-06T15:05:00Z",
        "pending_calls_count": 0,
        "is_silenced": true,
        "silence_info": {
          "reason": "manual",
          "remaining_time": "Silenciado manualmente",
          "notes": "Cliente problem√°tico"
        }
      }
    ],
    "count": 2
  }

GET /api/waiter/tables/available
- Descripci√≥n: Obtiene mesas disponibles para asignar (sin mozo activo)
- Autenticaci√≥n: Bearer token (mozo)

- Respuesta 200:
  {
    "success": true,
    "available_tables": [
      {
        "id": 1,
        "number": 1,
        "name": "Mesa Principal",
        "notifications_enabled": true,
        "capacity": 4,
        "location": "Sal√≥n principal"
      }
    ],
    "count": 1
  }

=====================================================================
17. FLUJO COMPLETO DE TRABAJO DEL MOZO
=====================================================================

INICIO DEL TURNO:
1. GET /api/waiter/tables/available ‚Üí Ver mesas disponibles
2. POST /api/waiter/tables/activate/multiple ‚Üí Activarse en varias mesas
3. GET /api/waiter/tables/assigned ‚Üí Confirmar mesas asignadas

DURANTE EL TURNO:
4. GET /api/waiter/calls/pending ‚Üí Ver llamadas pendientes (tiempo real via FCM)
5. POST /api/waiter/calls/{id}/acknowledge ‚Üí Confirmar llamadas
6. POST /api/waiter/calls/{id}/complete ‚Üí Completar atenci√≥n
7. POST /api/waiter/tables/{id}/silence ‚Üí Silenciar mesas problem√°ticas si es necesario

GESTI√ìN R√ÅPIDA:
8. POST /api/waiter/tables/silence/multiple ‚Üí Silenciar m√∫ltiples mesas
9. POST /api/waiter/tables/unsilence/multiple ‚Üí Quitar silencio
10. GET /api/waiter/tables/silenced ‚Üí Ver estado de mesas silenciadas

FIN DEL TURNO:
11. POST /api/waiter/tables/deactivate/multiple ‚Üí Desactivarse de todas las mesas
12. GET /api/waiter/calls/history?filter=today ‚Üí Revisar rendimiento del d√≠a

=====================================================================
18. INTERFAZ SUGERIDA PARA EL MOZO
=====================================================================

DASHBOARD PRINCIPAL:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè† Dashboard Mozo - Juan P√©rez                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìä Resumen:                                     ‚îÇ
‚îÇ ‚Ä¢ Mesas asignadas: 5                            ‚îÇ
‚îÇ ‚Ä¢ Llamadas pendientes: 2                        ‚îÇ  
‚îÇ ‚Ä¢ Mesas silenciadas: 1                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üîî LLAMADAS PENDIENTES:                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Mesa 3 - Hace 2m [URGENTE] [OK] [Completar]‚îÇ ‚îÇ
‚îÇ ‚îÇ Mesa 7 - Hace 5m [Normal]  [OK] [Completar]‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üè¢ MIS MESAS:                                   ‚îÇ
‚îÇ Mesa 1 ‚úÖ | Mesa 3 üîî | Mesa 5 ‚úÖ              ‚îÇ
‚îÇ Mesa 7 üîî | Mesa 9 üîï                           ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ [‚ûï Activar m√°s mesas] [üîá Gestionar silencios] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚ö° ACCIONES R√ÅPIDAS:                            ‚îÇ
‚îÇ [üîá Silenciar seleccionadas] [‚ùå Desactivar]    ‚îÇ
‚îÇ [üìä Ver historial] [‚öôÔ∏è Configuraci√≥n]          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

SELECCI√ìN DE MESAS:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¢ Seleccionar Mesas para Activar               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚òê Mesa 1 - Sal√≥n (Cap: 4)                      ‚îÇ
‚îÇ ‚òëÔ∏è Mesa 2 - Terraza (Cap: 2)                    ‚îÇ
‚îÇ ‚òëÔ∏è Mesa 3 - VIP (Cap: 6)                        ‚îÇ
‚îÇ ‚òê Mesa 4 - Barra (Cap: 8) [Ya asignada: Ana]   ‚îÇ
‚îÇ ‚òëÔ∏è Mesa 5 - Privada (Cap: 4)                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Seleccionadas: 3 mesas                          ‚îÇ
‚îÇ [Cancelar] [Activar Seleccionadas]              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

=====================================================================

SISTEMA COMPLETO CON TODAS LAS FUNCIONALIDADES:

‚úÖ 1. Historial con filtros (hoy, √∫ltima hora, hist√≥rico)
‚úÖ 2. Notificaciones en tiempo real al mozo
‚úÖ 3. Validaci√≥n de mesa sin mozo activo  
‚úÖ 4. Sistema de silenciado autom√°tico (3 llamadas = 10 min silencio)
‚úÖ 5. Silenciado manual por parte del mozo
‚úÖ 6. Mozo puede activarse en una mesa individual
‚úÖ 7. Mozo puede desactivarse de una mesa individual
‚úÖ 8. Mozo puede activarse en m√∫ltiples mesas de una vez
‚úÖ 9. Mozo puede desactivarse de m√∫ltiples mesas de una vez
‚úÖ 10. Mozo puede silenciar m√∫ltiples mesas de una vez
‚úÖ 11. Mozo puede quitar silencio de m√∫ltiples mesas
‚úÖ 12. APIs para consultar mesas asignadas y disponibles

TOTAL: 22 ENDPOINTS IMPLEMENTADOS

El sistema permite gesti√≥n completa del flujo de trabajo del mozo:
- Gesti√≥n de asignaci√≥n de mesas (individual y m√∫ltiple)
- Recepci√≥n de llamadas en tiempo real via FCM
- Control de spam y silenciado inteligente
- Historial completo con filtros temporales
- Interfaz optimizada para operaciones r√°pidas

Todas las operaciones est√°n optimizadas con transacciones de BD
para garantizar consistencia en operaciones m√∫ltiples.